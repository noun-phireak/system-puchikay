<form class=" p-24 " fxLayout="column" fxFlex="1 0 auto" name="form"class=" p-24 " fxLayout="column" fxFlex="1 0 auto" name="form" [formGroup]="form" (submit)=" submit() ">

   
    <div fxLayout="row">
        <div fxFlex="20" class="pr-4">
            <app-portrait 
                [mode] = " mode "
                [title]=" "
                [index]=" 1 " 
                [src]=" src " 
                (srcChange)='srcChange($event, 1)'></app-portrait>
        </div>

        <div fxLayout="column" fxFlex="80">
            <mat-form-field appearance="outline" fxFlex="100" >
                <mat-label>Name</mat-label>
                <input matInput formControlName="name" required>
                <mat-icon matSuffix class="secondary-text">store</mat-icon>
    
                <mat-error *ngIf="form.get('name').hasError('required')">
                   Please enter product's name. 
                </mat-error>
               
            </mat-form-field>
    
            <!-- ===============================================================>> Type -->
            <mat-form-field appearance="outline" fxFlex="100" >
                <mat-label>Category</mat-label>
                <mat-select formControlName = "category_id" >
                    <mat-option *ngFor = " let row of data?.category " [value] = " row.id " > {{ row?.name }}</mat-option>
                </mat-select>
            </mat-form-field>
    
            <mat-form-field appearance="outline" fxFlex="100" >
                <mat-label>Supplier</mat-label>
                <mat-select formControlName = "supplier_id" >
                    <mat-option *ngFor = " let row of data?.supplier " [value] = " row.id " > {{ row?.name }}</mat-option>
                </mat-select>
            </mat-form-field>
    
            <!-- ===============================================================>> Unit Price -->
            <mat-form-field appearance="outline" fxFlex="100" >
                <mat-label>Unit Price (KHR)</mat-label>
                <input matInput  formControlName="unit_price" required>
                <mat-icon matSuffix class="secondary-text"> production_quantity_limits </mat-icon>
    
                <mat-error *ngIf="form.get('unit_price').hasError('required')">
                    Please enter Unit Price.
                </mat-error>
              
            </mat-form-field>
    
            <!-- ===============================================================>> Discount -->
            <mat-form-field appearance="outline" fxFlex="100" >
                <mat-label>Discount</mat-label>
                <input matInput  formControlName="discount" required>
                <mat-icon matSuffix class="secondary-text">home</mat-icon>
    
                <mat-error *ngIf="form.get('discount').hasError('required')">Please enter discount. </mat-error>
                <mat-error *ngIf="form.get('discount').hasError('max')">You CANNOT input value of discount more than 100.</mat-error>
    
            </mat-form-field>
        </div>

    </div>
    <mat-progress-bar *ngIf="isLoading" mode="buffer"></mat-progress-bar>
    <mat-divider></mat-divider>
    <div fxLayout="row" fxLayoutAlign="end center" class="pt-8">
        <button [disabled]="isLoading" mat-raised-button color="accent"><mat-icon  class="material-icons">save</mat-icon>&nbsp;Update</button>
    </div>
</form>
